
<div class="panel panel-default" *ngIf="isAuthenticated()" >
  <div class="panel panel-heading">Gestion des Categories</div>
    <div class="panel panel-body">
      <div>
        <button class="btn btn-success" (click)="onNewCategories()">
          <span class="glyphicon glyphicon-plus"></span> Ajouter Categorie
        </button>
      </div>
      <p></p>
      <div *ngIf="node=='newcat'" class="col-md-6">
        <form #f="ngForm"  data-toggle="validator" role="form"  (ngSubmit)="onSaveCategorie(f.value)">
          <div class="form-group">
            <label for="name">Designation</label>
            <input type="text" id="name" ngModel class="form-control" placeholder="nom de categorie" required>
            <div class="help-block with-errors"></div>
          </div>
          <button class="btn btn-success" type="submit"><span class="glyphicon glyphicon-check"></span> Valider</button>
        </form>

      </div>
      <div *ngIf="node=='editcat'" class="col-md-6">
        <form #f="ngForm" (ngSubmit)="onEditCategorie(f.value)">
          <div class="form-group">
            <label class="control-label">Designation</label>
            <input type="text" name="name" ngModel class="form-control" [(ngModel)] = "currentCategorie.name">
          </div>
          <button class="btn btn-success" type="submit"><span class="glyphicon glyphicon-check"></span> Modifier</button>
        </form>

      </div>
      <div *ngIf="node=='list'">
      <table class="table" *ngIf="categories">
        <tr><th>Designation</th></tr>
        <tr *ngFor="let c of categories._embedded.categories">
          <td>{{c.name}}</td>
          <td>
            <button class="btn btn-danger" (click)="onDelete(c)">
              <span class="glyphicon glyphicon-remove"></span>
            </button>
          </td>
          <td>
            <button class="btn btn-primary" (click)="onEdit(c)">
              <span class="glyphicon glyphicon-pencil"></span>
            </button>
          </td>
        </tr>
      </table>
      </div>
  </div>
</div>
